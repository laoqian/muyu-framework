<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="muyu.system.dao.MenuDao">
    <select id="findList" resultType="Menu">
        select id AS "id",parent_id AS "parentId",name AS "name",href AS "href" from sys_menu where del_flag='0'
    </select>

    <select id="findTree" resultType="Menu">
            SELECT
              a.id AS "id",
              a.parent_id AS "parentId",
              a.name AS "name",
              a.href AS "href",
              level as "level",
              connect_by_isleaf AS "leaf"
            FROM sys_menu a
            WHERE  a.del_flag='0'
            start with a.id=#{rootId}
            connect by prior a.id = a.parent_id
            ORDER SIBLINGS BY sort
    </select>
</mapper>